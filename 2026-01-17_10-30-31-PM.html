<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Philosopher's Notes</title>
    
    <!-- Fonts: Plus Jakarta Sans for a modern, geometric look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Bulma CSS Framework -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --primary: #0f172a;
            --accent: #6366f1;
            --accent-light: #e0e7ff;
            --surface: #ffffff;
            --bg-body: #f1f5f9;
            --text-main: #1e293b;
            --text-sub: #64748b;
            --radius-card: 24px;
            --radius-item: 16px;
            --shadow-soft: 0 20px 40px -10px rgba(0, 0, 0, 0.05);
            --shadow-hover: 0 25px 50px -12px rgba(99, 102, 241, 0.15);
            --transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 1rem;
        }

        /* --- Main Card Container --- */
        .app-container {
            width: 100%;
            max-width: 600px;
            background: var(--surface);
            border-radius: var(--radius-card);
            box-shadow: var(--shadow-soft);
            overflow: hidden;
            position: relative;
        }

        /* --- Header Section --- */
        .app-header {
            padding: 2.5rem 2.5rem 1.5rem 2.5rem;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            background: linear-gradient(to bottom, #ffffff, #fafafa);
        }

        .header-content h1 {
            font-size: 1.75rem;
            font-weight: 800;
            letter-spacing: -0.03em;
            color: var(--primary);
            line-height: 1.1;
            margin-bottom: 0.25rem;
        }

        .header-content p {
            font-size: 0.9rem;
            color: var(--text-sub);
            font-weight: 500;
        }

        .btn-add {
            background-color: var(--primary);
            color: white;
            border: none;
            width: 48px;
            height: 48px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(15, 23, 42, 0.2);
        }

        .btn-add:hover {
            transform: translateY(-2px) scale(1.05);
            background-color: var(--accent);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
        }

        /* --- List Styles --- */
        .list-wrapper {
            padding: 0 1.5rem 2.5rem 1.5rem;
        }

        .philosopher-item {
            background: white;
            border: 1px solid #f1f5f9;
            border-radius: var(--radius-item);
            margin-bottom: 1rem;
            transition: var(--transition);
            overflow: hidden;
            position: relative;
        }

        .philosopher-item:hover {
            border-color: var(--accent-light);
            box-shadow: var(--shadow-hover);
            transform: translateY(-2px);
        }

        .item-main {
            padding: 1.25rem;
            display: flex;
            align-items: center;
            gap: 1.25rem;
            cursor: pointer;
        }

        .avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .item-content {
            flex: 1;
        }

        .item-name {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--primary);
            margin-bottom: 0.1rem;
        }

        .item-idea {
            font-size: 0.85rem;
            color: var(--accent);
            font-weight: 600;
            background: var(--accent-light);
            padding: 2px 8px;
            border-radius: 6px;
            display: inline-block;
        }

        .item-meta {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 0.5rem;
        }

        .stars {
            display: flex;
            gap: 2px;
            color: #fbbf24;
        }

        .chevron-icon {
            color: #cbd5e1;
            transition: var(--transition);
        }

        .philosopher-item.is-active .chevron-icon {
            transform: rotate(180deg);
            color: var(--accent);
        }

        .item-note {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, padding 0.4s ease;
            background-color: #f8fafc;
            border-top: 1px solid transparent;
        }

        .philosopher-item.is-active .item-note {
            border-top-color: #e2e8f0;
            padding: 1.5rem;
        }

        .note-text {
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-sub);
            font-style: italic;
        }

        /* --- Empty State --- */
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--text-sub);
            opacity: 0.6;
        }

        /* --- Modal Styling --- */
        .modal-content {
            border-radius: var(--radius-card);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.5);
            padding: 2rem;
            max-width: 500px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            transform: scale(0.9);
            opacity: 0;
            transition: var(--transition);
        }

        .modal.is-active .modal-content {
            transform: scale(1);
            opacity: 1;
        }
        
        .modal-background {
            background-color: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(4px);
        }

        .input, .textarea, .select select {
            border-radius: 12px;
            border-color: #e2e8f0;
            box-shadow: none;
            transition: var(--transition);
            font-family: inherit;
        }

        .input:focus, .textarea:focus, .select select:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 4px var(--accent-light);
        }

        .label {
            color: var(--text-main);
            font-weight: 600;
            font-size: 0.9rem;
        }

        .btn-submit {
            background-color: var(--primary);
            color: white;
            border-radius: 12px;
            font-weight: 600;
            width: 100%;
            height: 48px;
            border: none;
            transition: var(--transition);
        }
        
        .btn-submit:hover {
            background-color: var(--accent);
            transform: translateY(-1px);
        }

        /* Animation Keyframes */
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-entry {
            animation: slideUp 0.5s forwards;
        }
    </style>
</head>
<body>

    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1>Favourite<br>Philosophers</h1>
                <p>Thinkers, Ideas & Ratings</p>
            </div>
            <button class="btn-add" id="openModalBtn">
                <i data-lucide="plus"></i>
            </button>
        </header>

        <!-- List Container -->
        <div class="list-wrapper">
            <div id="philosopherList">
                <!-- Javascript will populate this -->
            </div>
        </div>
    </div>

    <!-- Modal Form -->
    <div class="modal" id="addModal">
        <div class="modal-background" id="modalBg"></div>
        <div class="modal-content">
            <h2 class="title is-4 mb-4" style="color:var(--primary);">Add New Thinker</h2>
            
            <div class="field">
                <label class="label">Name</label>
                <div class="control has-icons-left">
                    <input class="input" type="text" id="inputName" placeholder="e.g. Marcus Aurelius">
                    <span class="icon is-small is-left">
                        <i data-lucide="user"></i>
                    </span>
                </div>
            </div>

            <div class="field">
                <label class="label">Core Idea</label>
                <div class="control has-icons-left">
                    <input class="input" type="text" id="inputIdea" placeholder="e.g. Stoicism">
                    <span class="icon is-small is-left">
                        <i data-lucide="lightbulb"></i>
                    </span>
                </div>
            </div>

            <div class="field">
                <label class="label">Rating (Stars)</label>
                <div class="control has-icons-left">
                    <div class="select is-fullwidth">
                        <select id="inputRating">
                            <option value="5">5 Stars</option>
                            <option value="4">4 Stars</option>
                            <option value="3">3 Stars</option>
                            <option value="2">2 Stars</option>
                            <option value="1">1 Star</option>
                        </select>
                    </div>
                    <span class="icon is-small is-left">
                        <i data-lucide="star"></i>
                    </span>
                </div>
            </div>

            <div class="field">
                <label class="label">Note</label>
                <div class="control">
                    <textarea class="textarea" id="inputNote" rows="3" placeholder="Brief note or favorite quote..."></textarea>
                </div>
            </div>

            <div class="field mt-5">
                <button class="button btn-submit" id="saveBtn">Add to List</button>
            </div>
        </div>
        <button class="modal-close is-large" aria-label="close" id="closeModalBtn"></button>
    </div>

    <script>
        // --- Data State ---
        let philosophers = [
            {
                id: 1,
                name: 'Socrates',
                idea: 'The Socratic Method',
                rating: 5,
                note: 'The unexamined life is not worth living. Known for questioning everything and exposing ignorance.',
                image: 'https://images.unsplash.com/photo-1505664194779-8beaceb93744?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80' // Statue
            },
            {
                id: 2,
                name: 'Friedrich Nietzsche',
                idea: 'Ubermensch',
                rating: 4,
                note: 'He who has a why to live can bear almost any how. Concept of self-overcoming and the will to power.',
                image: 'https://images.unsplash.com/photo-1555894179-e26557523f27?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80' // Abstract intense
            },
            {
                id: 3,
                name: 'Simone de Beauvoir',
                idea: 'Existentialism',
                rating: 5,
                note: 'One is not born, but rather becomes, a woman. Exploration of freedom, ambiguity, and ethics.',
                image: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80' // Portrait
            }
        ];

        // --- DOM Elements ---
        const listContainer = document.getElementById('philosopherList');
        const modal = document.getElementById('addModal');
        const btnOpen = document.getElementById('openModalBtn');
        const btnClose = document.getElementById('closeModalBtn');
        const modalBg = document.getElementById('modalBg');
        const btnSave = document.getElementById('saveBtn');

        // --- Functions ---

        // Helper: Generate Star Icons
        const getStars = (count) => {
            let html = '';
            for(let i=0; i<5; i++) {
                if(i < count) {
                    html += `<i data-lucide="star" fill="#fbbf24" size="14"></i>`;
                } else {
                    html += `<i data-lucide="star" class="has-text-grey-lighter" size="14"></i>`;
                }
            }
            return html;
        };

        // Render List
        const render = () => {
            listContainer.innerHTML = '';
            
            if (philosophers.length === 0) {
                listContainer.innerHTML = '<div class="empty-state">No philosophers added yet. Start your collection!</div>';
                return;
            }

            philosophers.forEach((p, index) => {
                const item = document.createElement('div');
                item.className = 'philosopher-item animate-entry';
                item.style.animationDelay = `${index * 100}ms`;
                
                // Toggle Logic
                item.onclick = (e) => {
                    // Prevent closing if clicking inside the note but selecting text
                    if(e.target.closest('.item-note')) return;
                    
                    const note = item.querySelector('.item-note');
                    const isActive = item.classList.contains('is-active');
                    
                    // Close others (Accordion style - optional, removed for multiple open)
                    // document.querySelectorAll('.philosopher-item').forEach(el => {
                    //    el.classList.remove('is-active');
                    //    el.querySelector('.item-note').style.maxHeight = null;
                    // });

                    if (!isActive) {
                        item.classList.add('is-active');
                        note.style.maxHeight = note.scrollHeight + "px";
                    } else {
                        item.classList.remove('is-active');
                        note.style.maxHeight = null;
                    }
                };

                item.innerHTML = `
                    <div class="item-main">
                        <img src="${p.image}" alt="${p.name}" class="avatar">
                        <div class="item-content">
                            <h3 class="item-name">${p.name}</h3>
                            <span class="item-idea">${p.idea}</span>
                        </div>
                        <div class="item-meta">
                            <div class="stars">${getStars(p.rating)}</div>
                            <i data-lucide="chevron-down" class="chevron-icon" size="20"></i>
                        </div>
                    </div>
                    <div class="item-note">
                        <p class="note-text">${p.note}</p>
                    </div>
                `;
                
                listContainer.appendChild(item);
            });
            
            lucide.createIcons();
        };

        // Modal Handling
        const toggleModal = () => {
            modal.classList.toggle('is-active');
            // Clear inputs on open
            if(modal.classList.contains('is-active')) {
                document.getElementById('inputName').value = '';
                document.getElementById('inputIdea').value = '';
                document.getElementById('inputNote').value = '';
                document.getElementById('inputRating').value = '5';
                document.getElementById('inputName').focus();
            }
        };

        const saveNewItem = () => {
            const name = document.getElementById('inputName').value;
            const idea = document.getElementById('inputIdea').value;
            const rating = parseInt(document.getElementById('inputRating').value);
            const note = document.getElementById('inputNote').value;

            if (!name || !idea) return; // Simple validation

            const newItem = {
                id: Date.now(),
                name,
                idea,
                rating,
                note: note || 'No additional notes provided.',
                // Random image generator for new items to keep UI pretty
                image: `https://source.unsplash.com/random/200x200/?portrait,${Math.floor(Math.random()*100)}` 
            };
            
            // Fallback for Unsplash source deprecation or lag -> Use static random
            newItem.image = `https://ui-avatars.com/api/?name=${name.replace(' ','+')}&background=random&size=200`;

            philosophers.unshift(newItem); // Add to top
            toggleModal();
            render();
        };

        // --- Event Listeners ---
        btnOpen.addEventListener('click', toggleModal);
        btnClose.addEventListener('click', toggleModal);
        modalBg.addEventListener('click', toggleModal);
        btnSave.addEventListener('click', saveNewItem);

        // Initial Render
        document.addEventListener('DOMContentLoaded', () => {
            render();
        });

    </script>
</body>
</html>